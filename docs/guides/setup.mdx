---
title: Setup Motor SDK
sidebar_position: 3
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import APIButton from "@site/src/components/APIButton";
import SupportedClients from "@site/src/components/SupportedClients";

The Motor SDK is a set of developer tools for building decentralized applications on the Sonr network. It currently supports Flutter (iOS, Android, MacOS) with plans to support Javascript, React Native, and Web in the near future.

Motor Flutter is a Flutter library designed to help developers utilize Sonr in their apps. You can find the package at [motor.build](https://motor.build).

## Install Motor SDK

> Select your target platform to get started and setup a new Motor integrated project.

<Tabs groupId="target">
  
  <TabItem value="go" label="ðŸ¹ Go">

Start by adding the `sonr` package to your project.

```bash
go get -u github.com/sonr-io/sonr
```

  </TabItem>
  <TabItem value="flutter" label="ðŸ¦ Flutter">

#### 1. Add the dependency

Add `motor_flutter` as a dependency in your existing project:

```bash
flutter pub add motor_flutter
```

or add it to your `pubspec.yaml` file:

```yaml
dependencies:
  motor_flutter: ^0.5.5
```

#### 2. iOS setup

Add the following to the top of your `ios/Podfile`:

```ruby
platform :ios, '13.0'
```

Then, **remove** the following line from your `ios/Podfile`:

```ruby
use_frameworks!
```

  </TabItem>
</Tabs>

## Start the Motor Node

> Spawning a new Motor instance is the first step in using the SDK. This is where you'll configure your app's connection to the Sonr network.

<Tabs groupId="target">

    <TabItem value="go" label="ðŸ¹ Go">
There should exist only one instance of `Motor` throughout the lifetime of your application.

```go
import (
    "github.com/sonr-io/sonr/pkg/motor"
    "github.com/sonr-io/sonr/third_party/types/common"
)

func main() {
    mtr, err := EmptyMotor(&mt.InitializeRequest{
		    DeviceId: "unique_device_id", // this field must be unique to the device
	  }, common.DefaultCallback())
}
```

Before you can use the motor methods, you must finish initialization by either creating an account or logging in. To create an account you must have the following information.

| Parameter  | Description                                                                                                            |
| ---------- | ---------------------------------------------------------------------------------------------------------------------- |
| `deviceId` | A unique manufacturer identifier used to recognize the device a Motor is running on                                    |
| `password` | A user defined secure password to be used in the instance of account recovery                                          |
| `dsc`      | Device Specific Credential. A 32-byte AES key used to represent the device. Keep this stored in the device's keychain. |

```go
mtr, err := EmptyMotor(&mt.InitializeRequest{
    DeviceId: "unique_device_id", // this field must be unique to the device
}, common.DefaultCallback())
if err != nil {
  panic(err)
}

createResponse, err := mtr.CreateAccount(mt.CreateAccountRequest{
		Password:  "password123",
		AesDscKey: aesKey,
})

// store the pre-shared key somewhere
store(createResponse.AesPskKey)
```

Logging in uses a combination of the below.

| Parameter  | Description                                                                                                            |
| ---------- | ---------------------------------------------------------------------------------------------------------------------- |
| `did`      | The DID generated during account creation                                                                              |
| `dscKey`   | Device Specific Credential. A 32-byte AES key used to represent the device. Keep this stored in the device's keychain. |
| `pskKey`   | Pre-shared key. A 32-byte AES key. This key is meant to be shared between all devices                                  |
| `password` | The password used during account creation                                                                              |

To login you must provide the PSK and one of either the password or DSC.

```go
mtr, err := EmptyMotor(&mt.InitializeRequest{
    DeviceId: "unique_device_id",
}, common.DefaultCallback())
if err != nil {
  panic(err)
}

loginResponse, err := mtr.Login(mt.LoginRequest{
    Did:       "<address of the account to be logged in>",
    Password:  "password123",
    AesPskKey: pskKey,
})

// -- OR --

loginResponse, err := mtr.Login(mt.LoginRequest{
    Did:       "<address of the account to be logged in>",
    AesDscKey: dscKey,
    AesPskKey: pskKey,
})
```

  </TabItem>
  <TabItem value="flutter" label="ðŸ¦ Flutter">

The Motor Flutter SDK uses the [GetX](https://pub.dev/packages/get) package to manage state. This means that you must wrap the `MotorFlutter` service into the `Get.putAsync` method. For more
information on this, please refer to their [documentation](https://pub.dev/packages/get#getxservice).

```dart
import 'package:motor_flutter/motor_flutter.dart';

Future<void> main() async {
  // Init Services
  WidgetsFlutterBinding.ensureInitialized();

  // Motor Flutter uses GetX!
  await Get.putAsync(
    () => MotorFlutter().init(),
    permanent: true,
  );
  runApp(const MyApp());
}
```

</TabItem>

</Tabs>

## Next Steps

You're ready to start using Motor in your app! Check out one of the guides for next steps.

- [Register an Account](/docs/guides/auth/register.mdx)
- [Define Schemas](/docs/guides/data/schemas.mdx)
- [Upload Documents](/docs/guides/data/documents.mdx)
- [Create Buckets](/docs/guides/storage/buckets.mdx)
- [CLI Reference](/docs/reference/speedway/cli.mdx)
